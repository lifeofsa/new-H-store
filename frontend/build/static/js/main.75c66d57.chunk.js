(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{121:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(28),c=r.n(a),s=(r(89),r(90),r(126)),i=r(134),o=r(136),d=r(131),l=r(17),j=r(7),u=r(8),p=r.n(u),b=r(10),h="USER_LOGIN_REGISTER",O="USER_LOGIN_SUCCESS",x="USER_LOGIN_FAIL ",m="USER_LOGOUT ",f="USER_REGISTER_REQUEST",g="USER_REGISTER_SUCCESS",v="USER_REGISTER_FAIL ",y="USER_DETAILS_REQUEST",E="USER_DETAILS_SUCCESS",I="USER_DETAILS_FAIL ",S="USER_DETAILS_RESET ",C="USER_UPDATE_PROFILE_REQUEST",_="USER_UPDATE_PROFILE_SUCCESS",R="USER_UPDATE_PROFILE_FAIL ",L="USER_LIST_REQUEST",k="USER_LIST_SUCCESS",T="USER_LIST_FAIL ",P="USER_LIST_RESET ",A="USER_DELETE_REQUEST",w="USER_DELETE_SUCCESS",D="USER_DELETE_FAIL ",U="USER_UPDATE_REQUEST",N="USER_UPDATE_SUCCESS",F="USER_UPDATE_FAIL ",G="USER_UPDATE_I_RESET ",M="FACEBOOK_USER_REQUEST",B="FACEBOOK_USER_SUCCESS",q="FACEBOOK_USER_FAILED",Q=r(12),V=r.n(Q),$="CREATE_ORDER_REQUEST",z="CREATE_ORDER_SUCCESS",J="CREATE_ORDER_FAIL",Y="DETAILS_ORDER_REQUEST",W="DETAILS_ORDER_SUCCESS",H="DETAILS_ORDER_FAIL",K="DETAILS_ORDER_RESET",X="PAY_ORDER_REQUEST",Z="PAY_ORDER_SUCCESS",ee="PAY_ORDER_FAIL",te="PAY_ORDER_RESET",re="MY_LIST_ORDER_REQUEST",ne="MY_LIST_ORDER_SUCCESS",ae="MY_LIST_ORDER_FAIL",ce="MY_LIST_ORDER_RESET",se="ORDER_LIST_REQUEST",ie="ORDER_LIST_SUCCESS",oe="ORDER_LIST_FAIL",de="ORDER_LIST_RESET",le="ORDER_DELIVER_REQUEST",je="ORDER_DELIVER_SUCCESS",ue="ORDER_DELIVER_FAIL",pe="ORDER_DELIVER_RESET",be=function(){return function(e){localStorage.removeItem("userInfo"),e({type:m}),e({type:S}),e({type:ce}),e({type:P})}},he=function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r,n){var a,c,s,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:y}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,V.a.get("/api/users/".concat(e),s);case 6:i=t.sent,o=i.data,r({type:E,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:I,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},Oe=r(16),xe=r(9),me=r(132),fe=r(76),ge=r(0),ve=function(e){var t=e.history,r=Object(n.useState)(""),a=Object(xe.a)(r,2),c=a[0],s=a[1];return Object(ge.jsxs)(me.a,{onSubmit:function(e){e.preventDefault(),c.trim?t.push("/search/".concat(c)):t.push("/")},inline:!0,children:[Object(ge.jsx)(me.a.Control,{type:"text",name:"q",placeholder:"Search Here..",onChange:function(e){return s(e.target.value)},className:"mr-sm-2 ml-sm-5"}),Object(ge.jsx)(fe.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Search"})]})},ye=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.userLogin})),r=(Object(j.c)((function(e){return e.fbLogin})).userInfo,t.userInfo);return Object(ge.jsx)("header",{children:Object(ge.jsx)(i.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(ge.jsxs)(s.a,{children:[Object(ge.jsx)(l.LinkContainer,{to:"/",children:Object(ge.jsx)(i.a.Brand,{children:"H-Store"})}),Object(ge.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(ge.jsxs)(i.a.Collapse,{id:"basic-navbar-nav",children:[Object(ge.jsx)(Oe.d,{render:function(e){var t=e.history;return Object(ge.jsx)(ve,{history:t})}}),Object(ge.jsxs)(o.a,{className:"ml-auto",children:[Object(ge.jsx)(l.LinkContainer,{to:"/cart",children:Object(ge.jsxs)(o.a.Link,{children:[Object(ge.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),r?Object(ge.jsxs)(d.a,{title:r.name,id:"username",children:[Object(ge.jsx)(l.LinkContainer,{to:"/profile",children:Object(ge.jsx)(d.a.Item,{children:"Profile"})}),Object(ge.jsx)(d.a.Item,{onClick:function(t){e(be())},children:"LogOut"})]}):Object(ge.jsx)(l.LinkContainer,{to:"/login",children:Object(ge.jsxs)(o.a.Link,{children:[Object(ge.jsx)("i",{className:"fas fa-user"})," Sign In"]})}),r&&r.isAdmin&&Object(ge.jsxs)(d.a,{title:"Admin",id:"adminuser",children:[Object(ge.jsx)(l.LinkContainer,{to:"/admin/userlist",children:Object(ge.jsx)(d.a.Item,{children:"Users"})}),Object(ge.jsx)(l.LinkContainer,{to:"/admin/productlist",children:Object(ge.jsx)(d.a.Item,{children:"Products"})}),Object(ge.jsx)(l.LinkContainer,{to:"/admin/orderlist",children:Object(ge.jsx)(d.a.Item,{children:"Orders"})})]})]})]})]})})})},Ee=r(129),Ie=r(75),Se=r(137),Ce=function(e){var t=e.value,r=e.text,n=e.color;return Object(ge.jsxs)("div",{className:"rating",children:[Object(ge.jsx)("span",{children:Object(ge.jsx)("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ge.jsx)("span",{children:Object(ge.jsx)("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ge.jsx)("span",{children:Object(ge.jsx)("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ge.jsx)("span",{children:Object(ge.jsx)("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ge.jsx)("span",{children:Object(ge.jsx)("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(ge.jsx)("span",{children:r&&r})]})};Ce.defaultProps={color:"#f8e825"};var _e=Ce,Re=function(e){var t=e.product;return Object(ge.jsx)(n.Fragment,{children:Object(ge.jsxs)(Se.a,{className:"my-3 p-3 rounded",children:[Object(ge.jsx)("a",{href:"/product/".concat(t._id),children:Object(ge.jsx)(Se.a.Img,{src:t.image,variant:"top"})}),Object(ge.jsxs)(Se.a.Body,{children:[Object(ge.jsx)("a",{href:"/product/".concat(t._id),children:Object(ge.jsx)(Se.a.Title,{as:"div",children:Object(ge.jsx)("strong",{children:t.name})})}),Object(ge.jsx)(Se.a.Text,{as:"div",children:Object(ge.jsx)("div",{className:"my-3",children:Object(ge.jsx)(_e,{value:t.rating,text:t.numReviews<=1?"".concat(t.numReviews," review"):"".concat(t.numReviews," reviews")})})}),Object(ge.jsxs)(Se.a.Text,{as:"h3",children:["$",t.price]})]})]})})},Le="PRODUCT_LIST_FETCH",ke="PRODUCT_LIST_SUCCESS",Te="PRODUCT_LIST_FAIL",Pe="PRODUCT_ID_FETCH",Ae="PRODUCT_ID_SUCCESS",we="PRODUCT_ID_FAIL",De="PRODUCT_DELETE_FETCH",Ue="PRODUCT_DELETE_SUCCESS",Ne="PRODUCT_DELETE_FAIL",Fe="PRODUCT_CREATE_REQUEST",Ge="PRODUCT_CREATE_SUCCESS",Me="PRODUCT_CREATE_FAIL",Be="PRODUCT_CREATE_RESET",qe="PRODUCT_UPDATE_REQUEST",Qe="PRODUCT_UPDATE_SUCCESS",Ve="PRODUCT_UPDATE_FAIL",$e="PRODUCT_UPDATE_RESET",ze="PRODUCT_REVIEW_REQUEST",Je="PRODUCT_REVIEW_SUCCESS",Ye="PRODUCT_REVIEW_FAIL",We="PRODUCT_REVIEW_RESET",He="PRODUCT_REVIEW_DELETE_REQUEST",Ke="PRODUCT_REVIEW_DELETE_SUCCESS",Xe="PRODUCT_REVIEW_DELETE_FAIL",Ze="PRODUCT_REVIEW_RESET",et="PRODUCT_TOP_REQUEST",tt="PRODUCT_TOP_SUCCESS",rt="PRODUCT_TOP_FAIL",nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(b.a)(p.a.mark((function r(n){var a,c;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:Le}),r.next=4,V.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:a=r.sent,c=a.data,n({type:ke,payload:c}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),n({type:Te,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},at=function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Pe}),t.next=4,V.a.get("/api/products/".concat(e));case 4:n=t.sent,a=n.data,r({type:Ae,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:we,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ct=r(127),st=function(){return Object(ge.jsx)(ct.a,{animation:"grow",variant:"secondary",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(ge.jsx)("span",{className:"sr-only",children:"Loading..."})})},it=r(135),ot=function(e){var t=e.variant,r=e.children;return Object(ge.jsx)(it.a,{variant:t,children:r})};ot.defaultProps={variant:"info"};var dt=ot,lt=r(31),jt=r(138),ut=function(e){var t=e.page,r=e.pages,n=e.isAdmin,a=void 0!==n&&n,c=e.keyword,s=void 0===c?"":c;return r>1&&Object(ge.jsx)(jt.a,{children:Object(lt.a)(Array(r).keys()).map((function(e){return Object(ge.jsx)(l.LinkContainer,{to:a?"/admin/productlist/".concat(e+1):s?"/search/".concat(s,"/page/").concat(e+1):"/page/".concat(e+1),children:Object(ge.jsx)(jt.a.Item,{active:e+1===t,children:e+1})},e+1)}))})},pt=r(133),bt=r(128),ht=r(11),Ot=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.productCarousel})),r=t.loading,a=t.error,c=t.products;return Object(n.useEffect)((function(){e(function(){var e=Object(b.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:et}),e.next=4,V.a.get("/api/products/top");case 4:r=e.sent,n=r.data,t({type:tt,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:rt,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),r?Object(ge.jsx)(st,{}):a?Object(ge.jsx)(dt,{variant:"danger",children:a}):Object(ge.jsx)(pt.a,{pause:"hover",className:"bg-dark",children:c.map((function(e){return Object(ge.jsx)(pt.a.Item,{children:Object(ge.jsx)(ht.Link,{to:"/product/".concat(e._id),children:Object(ge.jsx)(bt.a,{src:e.image,alt:e.name,fluid:!0})})},e._id)}))})},xt=r(78),mt=function(e){var t=e.title,r=e.description,n=e.keywords;return Object(ge.jsxs)(xt.a,{children:[Object(ge.jsx)("title",{children:t}),Object(ge.jsx)("meta",{name:"description",content:r}),Object(ge.jsx)("meta",{name:"keyword",content:n})]})};mt.defaultProps={title:"Welcome To H-Store | Best shopping solution",description:"We sell the best products for cheap",keywords:"electronics, buy electronics, cheap electroincs"};var ft=mt,gt=function(e){var t=e.match,r=Object(j.b)(),a=Object(j.c)((function(e){return e.productList})),c=a.products,s=a.error,i=a.loading,o=a.pages,d=a.page,l=t.params.keyword,u=t.params.pageNumber||1;return Object(n.useEffect)((function(){r(nt(l,u))}),[r,l,u]),Object(ge.jsxs)(n.Fragment,{children:[Object(ge.jsx)(ft,{}),l?Object(ge.jsx)(ht.Link,{to:"/",className:"btn btn-light",children:"Go Back"}):Object(ge.jsx)(Ot,{}),l&&Object(ge.jsx)("h3",{children:'Search result for  "'.concat(l,'"')}),!(null===c||void 0===c?void 0:c.length)&&!i&&Object(ge.jsx)(dt,{variant:"danger",children:"Product Not Found"}),!l&&Object(ge.jsx)("h1",{children:"Latest Products"}),i?Object(ge.jsx)(st,{}):s?Object(ge.jsx)(dt,{variant:"danger",children:s}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Ee.a,{children:c.map((function(e){return Object(ge.jsx)(Ie.a,{sm:12,md:6,lg:4,xl:3,children:Object(ge.jsx)(Re,{product:e})})}))}),Object(ge.jsx)(ut,{pages:o,page:d,keyword:l||""})]})]})},vt=r(139),yt=r(74),Et=function(e){var t=e.history,r=e.match,a=Object(n.useState)(1),c=Object(xe.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(0),d=Object(xe.a)(o,2),l=d[0],u=d[1],h=Object(n.useState)(""),O=Object(xe.a)(h,2),x=O[0],m=O[1],f=Object(n.useState)(0),g=Object(xe.a)(f,2),v=(g[0],g[1],Object(j.b)()),y=Object(j.c)((function(e){return e.productIdList})),E=y.product,I=y.loading,S=y.error,C=Object(j.c)((function(e){return e.productReview})),_=C.success,R=C.error,L=Object(j.c)((function(e){return e.userLogin})).userInfo,k=Object(j.c)((function(e){return e.productReviewDelete})),T=k.loading,P=k.error,A=k.success;Object(n.useEffect)((function(){_&&(alert("Review added"),m(""),u(0),v({type:We})),A&&(v({type:Ze}),alert("Review Deleted")),v(at(r.params.id))}),[r,v,_,A]);var w=function(e,t){var r,n;v((r=e,n=t,function(){var e=Object(b.a)(p.a.mark((function e(t,a){var c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:He}),c=a(),s=c.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,V.a.delete("/api/products/".concat(r,"/reviews/").concat(n),i);case 6:t({type:Ke}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Xe,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))};return Object(ge.jsxs)(ge.Fragment,{children:[T&&Object(ge.jsx)(st,{}),P&&Object(ge.jsx)(dt,{variant:"danger",children:P}),Object(ge.jsx)(ft,{title:E.name}),Object(ge.jsx)(ht.Link,{className:"btn btn-light my-3",to:"/",children:"Go back"}),I?Object(ge.jsx)(st,{}):S?Object(ge.jsx)(dt,{variant:"danger",children:S}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{md:6,children:Object(ge.jsx)(bt.a,{src:E.image,alt:E.name,fluid:!0})}),Object(ge.jsx)(Ie.a,{md:3,children:Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsx)("h3",{children:E.name})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsx)(_e,{value:E.rating,text:E.numReviews<=1?"".concat(E.numReviews," review"):"".concat(E.numReviews," reviews")})}),Object(ge.jsxs)(vt.a.Item,{children:[" Price : $",E.price]}),Object(ge.jsxs)(vt.a.Item,{children:["Discription : ",E.description]})]})}),Object(ge.jsx)(Ie.a,{md:3,children:Object(ge.jsx)(Se.a,{children:Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Price:"}),Object(ge.jsx)(Ie.a,{children:Object(ge.jsxs)("strong",{children:["$",E.price]})})]})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Status:"}),Object(ge.jsx)(Ie.a,{children:E.countInStock>0?"In Stock":"Out of Stock"})]})}),E.countInStock>0&&Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Qty"}),Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(me.a.Control,{as:"select",value:s,onChange:function(e){return i(e.target.value)},children:Object(lt.a)(Array(E.countInStock).keys()).map((function(e){return Object(ge.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsx)(fe.a,{onClick:function(){t.push("/cart/".concat(r.params.id,"?qty=").concat(s))},className:"btn-block",type:"button",disabled:0===E.countInStock,children:"Add To Cart"})})]})})})]}),Object(ge.jsx)(Ee.a,{children:Object(ge.jsxs)(Ie.a,{md:6,children:[Object(ge.jsx)("h3",{children:"Reviews"}),0===E.reviews.length&&Object(ge.jsx)(dt,{children:" No Reviews"}),Object(ge.jsx)(vt.a,{variant:"flush",children:E.reviews.map((function(e){return Object(ge.jsxs)(vt.a.Item,{children:[Object(ge.jsx)("strong",{children:e.name}),Object(ge.jsx)(_e,{value:e.rating}),Object(ge.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(ge.jsx)("p",{children:e.comment}),L&&L.isAdmin&&Object(ge.jsx)(fe.a,{variant:"danger",className:"btn-sm",onClick:function(){return w(E._id,e._id)},children:Object(ge.jsx)("i",{className:"fas fa-trash"})})]},e._id)}))}),Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsx)("h3",{children:"Write a Customer review"}),R&&Object(ge.jsx)(dt,{children:R}),L?Object(ge.jsxs)(me.a,{onSubmit:function(e){var t,n;e.preventDefault(),v((t=r.params.id,n={comment:x,rating:l},function(){var e=Object(b.a)(p.a.mark((function e(r,a){var c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:ze}),c=a(),s=c.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,V.a.post("/api/products/".concat(t,"/reviews"),n,i);case 6:r({type:Je}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:Ye,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(ge.jsxs)(me.a.Group,{controlId:"rating",children:[Object(ge.jsx)(yt.a,{children:"Rating"}),Object(ge.jsxs)(me.a.Control,{as:"select",value:l,onChange:function(e){return u(e.target.value)},required:!0,children:[Object(ge.jsx)("option",{value:"",children:"Select..."}),Object(ge.jsx)("option",{value:"1",children:"1 - Poor"}),Object(ge.jsx)("option",{value:"2",children:"2 - Bad"}),Object(ge.jsx)("option",{value:"3",children:"3 - Good"}),Object(ge.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(ge.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(ge.jsxs)(me.a.Group,{controlId:"comment",children:[Object(ge.jsx)(me.a.Label,{children:"Comment"}),Object(ge.jsx)(me.a.Control,{as:"textarea",rows:"3",value:x,onChange:function(e){return m(e.target.value)},required:!0})]}),Object(ge.jsx)(Ee.a,{children:Object(ge.jsx)(Ie.a,{className:"py-3",children:Object(ge.jsx)(fe.a,{type:"submit",children:"Add Review"})})})]}):Object(ge.jsxs)(dt,{children:["Please ",Object(ge.jsx)(ht.Link,{to:"/login",children:"Sign in"})," to add a review"]})]})]})})]})]})},It="CART_ADD_ITEM",St="CART_REMOVE_ITEM",Ct="CART_SAVE_SHIPPING_ADDRESS",_t="CART_SAVE_PAYMENT_METHOD",Rt="CART_RESET",Lt=function(e,t){return function(){var r=Object(b.a)(p.a.mark((function r(n,a){var c,s;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,V.a.get("/api/products/".concat(e));case 2:c=r.sent,s=c.data,n({type:It,payload:{product:s._id,name:s.name,countInStock:s.countInStock,image:s.image,price:s.price,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},kt=function(e){var t=e.history,r=e.location,a=e.match.params.id,c=r.search?Number(r.search.split("=")[1]):1,s=Object(j.c)((function(e){return e.cart})),i=Object(j.c)((function(e){return e.userLogin})).userInfo,o=s.cartItems;console.log(o);var d=Object(j.b)();Object(n.useEffect)((function(){a&&d(Lt(a,c))}),[d,a,c]);var l=function(e){d(function(e){return function(t,r){t({type:St,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))}}(e))};return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ft,{title:"Cart"}),Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsxs)(Ie.a,{md:8,children:[Object(ge.jsx)("h1",{children:"Shopping Cart"}),0===o.length?Object(ge.jsxs)(dt,{children:["Please Add Something to Cart ",Object(ge.jsx)(ht.Link,{to:"/",children:"Go Back"})]}):Object(ge.jsx)(vt.a,{variant:"flush",children:o.map((function(e){return Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{md:2,children:Object(ge.jsx)(bt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(ge.jsx)(Ie.a,{md:2,children:Object(ge.jsx)(ht.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(ge.jsxs)(Ie.a,{children:["$",e.price]}),Object(ge.jsx)(Ie.a,{md:2,children:Object(ge.jsx)(me.a.Control,{as:"select",value:e.qty,onChange:function(t){return d(Lt(e.product,Number(t.target.value)))},children:Object(lt.a)(Array(e.countInStock).keys()).map((function(e){return Object(ge.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(ge.jsx)(Ie.a,{md:2,children:Object(ge.jsx)(fe.a,{type:"Button",variant:"light",onClick:function(){return l(e.product)},children:Object(ge.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(ge.jsx)(Ie.a,{md:4,children:Object(ge.jsx)(Se.a,{children:Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsxs)(vt.a.Item,{children:[Object(ge.jsxs)("h2",{children:["Subtotal (",o.reduce((function(e,t){return e+t.qty}),0),") items"]}),"Price $",o.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsx)(fe.a,{type:"button",className:"btn-block",onClick:function(){i?t.push("/shipping"):t.push("/login")},disabled:0===o.length,children:"Proceed To Checkout"})})]})})})]})]})},Tt=function(e){var t=e.children;return Object(ge.jsx)(s.a,{children:Object(ge.jsx)(Ee.a,{className:"justify-content-md-center",children:Object(ge.jsx)(Ie.a,{xs:12,md:6,children:t})})})},Pt=r(81),At=r.n(Pt),wt=function(e){var t=e.location,r=Object(Oe.k)(),a=Object(n.useState)(""),c=Object(xe.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),d=Object(xe.a)(o,2),l=d[0],u=d[1],m=Object(n.useState)(null),f=Object(xe.a)(m,2),g=f[0],v=f[1],y=Object(j.b)(),E=Object(j.c)((function(e){return e.fbLogin})),I=E.loading,S=E.error,C=E.userInfo,_=Object(j.c)((function(e){return e.userLogin})),R=_.loading,L=_.error,k=_.userInfo,T=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){k?r.push("/"):r.push("/login")}),[k,r,T,C]);return Object(ge.jsxs)(Tt,{children:[Object(ge.jsx)("h1",{children:"Sign In"}),g&&Object(ge.jsx)(dt,{variant:"danger",children:g}),L&&Object(ge.jsx)(dt,{variant:"danger",children:L}),S&&Object(ge.jsx)(dt,{variant:"danger",children:S}),R&&Object(ge.jsx)(st,{}),I&&Object(ge.jsx)(st,{}),Object(ge.jsxs)(me.a,{onSubmit:function(e){e.preventDefault(),""!==s&&""!==l||v("Please fill ot the feild first"),y(function(e,t){return function(){var r=Object(b.a)(p.a.mark((function r(n){var a,c,s;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:h}),a={headers:{"Content-Type":"application/json"}},r.next=5,V.a.post("/api/users/login",{email:e,password:t},a);case 5:c=r.sent,s=c.data,console.log(s),n({type:O,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),n({type:x,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()}(s,l))},children:[Object(ge.jsxs)(me.a.Group,{controlId:"email",children:[Object(ge.jsx)(me.a.Label,{children:"Email Address"}),Object(ge.jsx)(me.a.Control,{type:"email",placeholder:"Enter your email",required:!0,value:s,onChange:function(e){return i(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"password",children:[Object(ge.jsx)(me.a.Label,{children:"Password"}),Object(ge.jsx)(me.a.Control,{type:"password",placeholder:"Enter your password",required:!0,value:l,onChange:function(e){return u(e.target.value)}})]}),Object(ge.jsxs)(Ee.a,{className:"py-3",style:{justifyContent:"end",display:"flex"},children:[Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(fe.a,{type:" submit",variant:"primary",children:"Sign In"})}),Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)("h4",{className:"bold",children:"OR"})}),Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(At.a,{disableMobileRedirect:!0,appId:"1358456141280819",fields:"name, email",autoLoad:!1,callback:function(e){y(function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:M}),n={headers:{"Content-Type":"application/json"},accessToken:e.accessToken,userID:e.userID},t.next=5,V.a.post("/api/users/facebook",n);case 5:a=t.sent,c=a.data,r({type:O,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),console.log(c),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:q,payload:console.error()});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(e))},redirectUri:"https://h-storecart.herokuapp.com/?state={st=state123abc,ds=123456789}",cssClass:"btnFacebook",state:"{st=state123abc,ds=123456789}",icon:Object(ge.jsx)("i",{class:"fa-brands fa-facebook-f",style:{marginRight:"5px"}})})})]})]}),Object(ge.jsx)(Ee.a,{className:"py-3",children:Object(ge.jsxs)(Ie.a,{children:["New Customer?"," ",Object(ge.jsx)(ht.Link,{to:T?"/register?redirect=".concat(T):"/register",children:"Register"})]})})]})},Dt=function(e){var t=e.location,r=e.history,a=Object(n.useState)(""),c=Object(xe.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),d=Object(xe.a)(o,2),l=d[0],u=d[1],h=Object(n.useState)(""),x=Object(xe.a)(h,2),m=x[0],y=x[1],E=Object(n.useState)(""),I=Object(xe.a)(E,2),S=I[0],C=I[1],_=Object(n.useState)(null),R=Object(xe.a)(_,2),L=R[0],k=R[1],T=Object(j.b)(),P=Object(j.c)((function(e){return e.userRegister})),A=P.error,w=P.loading,D=P.userInfo,U=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){D&&r.push(U)}),[D,U,r]);return Object(ge.jsxs)(Tt,{children:[Object(ge.jsx)("h1",{children:"Register"}),L&&Object(ge.jsx)(dt,{variant:"danger",children:L}),A&&Object(ge.jsx)(dt,{variant:"danger",children:A}),w&&Object(ge.jsx)(st,{}),Object(ge.jsxs)(me.a,{onSubmit:function(e){e.preventDefault(),""===s||""===m||""===S||""===l?k("Please fill ot the feild first"):m!==S?k("Password did not match"):m.length<6?k("Password should be 6 Character long"):T(function(e,t,r){return function(){var n=Object(b.a)(p.a.mark((function n(a){var c,s,i;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:f}),c={headers:{"Content-Type":"application/json"}},n.next=5,V.a.post("/api/users",{name:e,email:t,password:r},c);case 5:s=n.sent,i=s.data,a({type:g,payload:i}),a({type:O,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),a({type:v,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(l,s,m))},children:[Object(ge.jsxs)(me.a.Group,{controlId:"name",children:[Object(ge.jsx)(me.a.Label,{children:"Name"}),Object(ge.jsx)(me.a.Control,{type:"name",placeholder:"Enter your name",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"email",children:[Object(ge.jsx)(me.a.Label,{children:"Email Address"}),Object(ge.jsx)(me.a.Control,{type:"email",placeholder:"Enter Email Address",value:s,onChange:function(e){return i(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"password",children:[Object(ge.jsx)(me.a.Label,{children:"Password"}),Object(ge.jsx)(me.a.Control,{type:"password",placeholder:"Enter Password",value:m,onChange:function(e){return y(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"confirmPassword",children:[Object(ge.jsx)(me.a.Label,{children:"Confirm Password"}),Object(ge.jsx)(me.a.Control,{type:"password",placeholder:"Re-enter Password",value:S,onChange:function(e){return C(e.target.value)}})]}),Object(ge.jsx)(Ee.a,{className:"py-3",children:Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(fe.a,{type:"submit",variant:"primary",children:"Register"})})})]}),Object(ge.jsx)(Ee.a,{className:"py-3",children:Object(ge.jsxs)(Ie.a,{children:["Already have an account ?"," ",Object(ge.jsxs)(ht.Link,{to:U?"/login?redirect=".concat(U):"/login",children:[" ","Sign In"," "]})]})})]})},Ut=r(130),Nt=(r(118),function(e){var t=e.history,r=Object(n.useState)(""),a=Object(xe.a)(r,2),c=a[0],s=a[1],i=Object(n.useState)(""),o=Object(xe.a)(i,2),d=o[0],l=o[1],u=Object(n.useState)(""),h=Object(xe.a)(u,2),O=h[0],x=h[1],m=Object(n.useState)(""),f=Object(xe.a)(m,2),g=f[0],v=f[1],y=Object(n.useState)(null),E=Object(xe.a)(y,2),I=E[0],S=E[1],L=Object(j.b)(),k=Object(j.c)((function(e){return e.userDetails})),T=k.error,P=k.loading,A=k.user,w=Object(j.c)((function(e){return e.myListOrder})),D=w.error,U=w.loading,N=w.orders,F=Object(j.c)((function(e){return e.userLogin})).userInfo,G=Object(j.c)((function(e){return e.userUpdateProfile})).success;Object(n.useEffect)((function(){F?A.name?(l(A.name),s(A.email)):(L(he("profile")),L(function(){var e=Object(b.a)(p.a.mark((function e(t,r){var n,a,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:re}),n=r(),a=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,V.a.get("/api/orders/myorders",c);case 6:s=e.sent,i=s.data,t({type:ne,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ae,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())):t.push("/login")}),[L,F,A,t]);return Object(ge.jsxs)(ge.Fragment,{children:[P?Object(ge.jsx)(ft,{title:"Details"}):Object(ge.jsx)(ft,{title:"Details | ".concat(A.name)}),Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsxs)(Ie.a,{md:3,children:[Object(ge.jsx)("h2",{children:"User Profile"}),G&&Object(ge.jsx)(dt,{variant:"success",children:"Profile Updated"}),I&&Object(ge.jsx)(dt,{variant:"danger",children:I}),T&&Object(ge.jsx)(dt,{variant:"danger",children:T}),P&&Object(ge.jsx)(st,{}),Object(ge.jsxs)(me.a,{onSubmit:function(e){e.preventDefault(),O!=g?S("Password did not match"):O?O.length<6&&S("Password must be 6 charachters long "):L(function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r,n){var a,c,s,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:C}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,V.a.put("/api/users/profile",e,s);case 6:i=t.sent,o=i.data,r({type:_,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:R,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({id:A._id,name:d,email:c,password:O}))},children:[Object(ge.jsxs)(me.a.Group,{controlId:"name",children:[Object(ge.jsx)(me.a.Label,{children:"Name"}),Object(ge.jsx)(me.a.Control,{type:"name",placeholder:"Enter your name",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"email",children:[Object(ge.jsx)(me.a.Label,{children:"Email Address"}),Object(ge.jsx)(me.a.Control,{type:"email",placeholder:"Enter Email Address",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"password",children:[Object(ge.jsx)(me.a.Label,{children:"Password"}),Object(ge.jsx)(me.a.Control,{type:"password",placeholder:"Enter Password",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"confirmPassword",children:[Object(ge.jsx)(me.a.Label,{children:"Confirm Password"}),Object(ge.jsx)(me.a.Control,{type:"password",placeholder:"Re-enter Password",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(ge.jsx)(Ee.a,{className:"py-3",children:Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(fe.a,{type:"submit",variant:"primary",children:"Update Profile"})})})]})]}),Object(ge.jsxs)(Ie.a,{md:9,children:[Object(ge.jsx)("h2",{children:"My Order"}),U?Object(ge.jsx)(st,{}):N.length?D?Object(ge.jsx)(dt,{variant:"danger",children:D}):Object(ge.jsxs)(Ut.a,{responsive:!0,striped:!0,hover:!0,bordered:!0,className:"table-sm",children:[Object(ge.jsx)("thead",{children:Object(ge.jsxs)("tr",{children:[Object(ge.jsx)("th",{children:"ID"}),Object(ge.jsx)("th",{children:"DATE"}),Object(ge.jsx)("th",{children:"PAID"}),Object(ge.jsx)("th",{children:"DELIVERED"}),Object(ge.jsx)("th",{})]})}),Object(ge.jsx)("tbody",{children:N.map((function(e){return Object(ge.jsxs)("tr",{children:[Object(ge.jsx)("td",{children:e._id}),Object(ge.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(ge.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(ge.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ge.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(ge.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ge.jsx)("td",{children:Object(ge.jsx)("a",{href:"/order/".concat(e._id),children:Object(ge.jsx)(fe.a,{variant:"light",className:"btn-sm",children:"Details"})})})]},e._id)}))})]}):Object(ge.jsxs)("h4",{children:["You did'nt order anything yet lets order from"," ",Object(ge.jsx)(ht.Link,{to:"/",children:Object(ge.jsx)(fe.a,{variant:"dark",children:"Shop"})})]})]})]})]})}),Ft=function(e){var t=e.step1,r=e.step2,n=e.step3,a=e.step4;return Object(ge.jsxs)(o.a,{className:"justify-content-center mb-4",children:[Object(ge.jsx)(o.a.Item,{children:t?Object(ge.jsx)(l.LinkContainer,{to:"/login",children:Object(ge.jsx)(o.a.Link,{children:"Sign In"})}):Object(ge.jsx)(o.a.Link,{disabled:!0,children:"Sign In"})}),Object(ge.jsx)(o.a.Item,{children:r?Object(ge.jsx)(l.LinkContainer,{to:"/shipping",children:Object(ge.jsx)(o.a.Link,{children:"Shipping"})}):Object(ge.jsx)(o.a.Link,{disabled:!0,children:"Shipping"})}),Object(ge.jsx)(o.a.Item,{children:n?Object(ge.jsx)(l.LinkContainer,{to:"/payment",children:Object(ge.jsx)(o.a.Link,{children:"Payment"})}):Object(ge.jsx)(o.a.Link,{disabled:!0,children:"Payment"})}),Object(ge.jsx)(o.a.Item,{children:a?Object(ge.jsx)(l.LinkContainer,{to:"/placeorder",children:Object(ge.jsx)(o.a.Link,{children:"Place Order"})}):Object(ge.jsx)(o.a.Link,{disabled:!0,children:"Place Order"})})]})},Gt=function(e){var t=e.history,r=Object(j.c)((function(e){return e.cart})).shippingAddress,a=Object(n.useState)(r.address),c=Object(xe.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(r.city),d=Object(xe.a)(o,2),l=d[0],u=d[1],h=Object(n.useState)(r.postalCode),O=Object(xe.a)(h,2),x=O[0],m=O[1],f=Object(n.useState)(r.country),g=Object(xe.a)(f,2),v=g[0],y=g[1],E=Object(j.b)();return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ft,{title:"Shipping Address"}),Object(ge.jsxs)(Tt,{children:[Object(ge.jsx)(Ft,{step1:!0,step2:!0}),Object(ge.jsx)("h1",{children:"Shipping"}),Object(ge.jsxs)(me.a,{onSubmit:function(e){var r;e.preventDefault(),E((r={address:s,city:l,postalCode:x,country:v},function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ct,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")},children:[Object(ge.jsxs)(me.a.Group,{controlId:"address",children:[Object(ge.jsx)(me.a.Label,{children:"Enter Address"}),Object(ge.jsx)(me.a.Control,{type:"text",placeholder:"Enter address",value:s,required:!0,onChange:function(e){return i(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"city",children:[Object(ge.jsx)(me.a.Label,{children:"Enter City"}),Object(ge.jsx)(me.a.Control,{type:"text",placeholder:"Enter city",value:l,required:!0,onChange:function(e){return u(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"postalCode",children:[Object(ge.jsx)(me.a.Label,{children:"Enter Postal Code"}),Object(ge.jsx)(me.a.Control,{type:"text",placeholder:"Enter postal code",value:x,required:!0,onChange:function(e){return m(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"country",children:[Object(ge.jsx)(me.a.Label,{children:"Enter Country"}),Object(ge.jsx)(me.a.Control,{type:"text",placeholder:"Enter country",required:!0,value:v,onChange:function(e){return y(e.target.value)}})]}),Object(ge.jsx)(Ee.a,{className:"py-3",children:Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(fe.a,{type:"submit",variant:"primary",children:"Continue"})})})]})]})]})},Mt=function(e){var t=e.history;Object(j.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var r=Object(n.useState)("PayPal"),a=Object(xe.a)(r,2),c=a[0],s=a[1],i=Object(j.b)();return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ft,{title:"Payment Method"}),Object(ge.jsxs)(Tt,{children:[Object(ge.jsx)(Ft,{step1:!0,step2:!0,step3:!0}),Object(ge.jsx)("h1",{children:" Payment Method"}),Object(ge.jsxs)(me.a,{onSubmit:function(e){var r;e.preventDefault(),i((r=c,function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:_t,payload:r}),localStorage.setItem("paymentMethod",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/placeorder")},children:[Object(ge.jsxs)(me.a.Group,{children:[Object(ge.jsx)(me.a.Label,{as:"legend",children:"Select Method"}),Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(me.a.Check,{id:"PayPal",type:"radio",value:"PayPal",label:"PayPal or Credit Card",name:"paymentMethod",checked:!0,onChange:function(e){return s(e.target.value)}})})]}),Object(ge.jsx)(Ee.a,{className:"py-3",children:Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(fe.a,{type:"submit",variant:"primary",children:"Continue"})})})]})]})]})},Bt=function(e){var t=e.history,r=Object(j.b)(),a=Object(j.c)((function(e){return e.createOrder})),c=a.error,s=a.success,i=a.order;Object(n.useEffect)((function(){s&&t.push("/order/".concat(i._id))}),[t,s]);var o=Object(j.c)((function(e){return e.cart})),d=function(e){return(Math.round(100*e)/100).toFixed(2)};return o.itemsPrice=d(o.cartItems.reduce((function(e,t){return e+t.qty*t.price}),0)),o.shippingPrice=d(o.itemsPrice>1e3?0:o.itemsPrice>500?30:o.itemsPrice>100?50:60),o.taxPrice=d(Number((.1*o.itemsPrice).toFixed(2))),o.totalPrice=(Number(o.itemsPrice)+Number(o.shippingPrice)+Number(o.taxPrice)).toFixed(2),Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ft,{title:"Place Order"}),";",Object(ge.jsx)(Ft,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{md:8,children:Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsxs)(vt.a.Item,{children:[Object(ge.jsx)("h2",{children:"Shipping"}),Object(ge.jsxs)("p",{children:[Object(ge.jsx)("strong",{children:"Address:"})," ",o.shippingAddress.address,",",o.shippingAddress.city,",",o.shippingAddress.postalCode,",",o.shippingAddress.country]})]}),Object(ge.jsxs)(vt.a.Item,{children:[Object(ge.jsx)("h2",{children:"Payment Method"}),Object(ge.jsxs)("p",{children:[Object(ge.jsx)("strong",{children:"Method:"})," ",o.paymentMethod]})]}),Object(ge.jsx)(vt.a.Item,{children:0===o.cartItems?Object(ge.jsx)(dt,{children:"Your Cart Is Empty"}):Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsx)("h2",{children:"Order Item"}),o.cartItems.map((function(e,t){return Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{md:1,children:Object(ge.jsx)(bt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(ht.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(ge.jsxs)(Ie.a,{md:4,children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},t)}))]})})]})}),Object(ge.jsx)(Ie.a,{md:4,children:Object(ge.jsx)(Se.a,{children:Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsx)("h2",{children:"Order Summary"})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Items:"}),Object(ge.jsxs)(Ie.a,{children:["$",o.itemsPrice]})]})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Shipping:"}),Object(ge.jsxs)(Ie.a,{children:["$",o.shippingPrice]})]})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Tax:"}),Object(ge.jsxs)(Ie.a,{children:["$",o.taxPrice]})]})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Total Price:"}),Object(ge.jsxs)(Ie.a,{children:["$",o.totalPrice]})]})}),Object(ge.jsx)(vt.a.Item,{children:c&&Object(ge.jsx)(dt,{variant:"danger",children:c})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsx)(fe.a,{type:"button",className:"btn-block",disabled:0===o.cartItems,onClick:function(){r(function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r,n){var a,c,s,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:$}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,V.a.post("/api/orders",e,s);case 6:i=t.sent,o=i.data,r({type:z,payload:o}),localStorage.removeItem("cartItems"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:J,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}({shippingAddress:o.shippingAddress,itemsPrice:o.itemsPrice,orderItems:o.cartItems,totalPrice:o.totalPrice,paymentMethod:o.paymentMethod,shippingPrice:o.shippingPrice,taxPrice:o.taxPrice}))},children:"Place Order"})})]})})})]})]})},qt=r(82),Qt=function(e){var t=e.match,r=e.history,a=Object(n.useState)(!1),c=Object(xe.a)(a,2),s=c[0],i=c[1],o=Object(j.b)(),d=t.params.id,l=Object(j.c)((function(e){return e.userLogin})).userInfo,u=Object(j.c)((function(e){return e.detailsOrder})),h=u.error,O=u.loading,x=u.order,m=Object(j.c)((function(e){return e.deliverOrder})),f=m.error,g=m.loading,v=m.success,y=Object(j.c)((function(e){return e.payOrder})),E=y.loading,I=y.success;Object(n.useEffect)((function(){l||r.push("/login");var e,t=function(){var e=Object(b.a)(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(r),n.async=!0,n.onload=function(){i(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!x||I||v?(o({type:te}),o({type:pe}),o((e=d,function(){var t=Object(b.a)(p.a.mark((function t(r,n){var a,c,s,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Y}),a=n(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,V.a.get("/api/orders/".concat(e),s);case 6:i=t.sent,o=i.data,r({type:W,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:H,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()))):x.isPaid||(window.paypal?i(!0):t())}),[o,d,I,v,x]);return O?Object(ge.jsx)(st,{}):h?Object(ge.jsx)(dt,{variant:"danger",children:h}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ft,{title:"Order Details"}),Object(ge.jsxs)("h1",{children:["Order: ",x._id]}),Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{md:8,children:Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsx)(vt.a.Item,{}),Object(ge.jsxs)(vt.a.Item,{children:[Object(ge.jsx)("h2",{children:"Shipping"}),Object(ge.jsxs)("p",{children:[Object(ge.jsx)("strong",{children:"Name:"})," ",x.user.name]}),Object(ge.jsxs)("p",{children:[Object(ge.jsx)("strong",{children:"Email:"})," ",Object(ge.jsx)("a",{href:"mailto:".concat(x.user.email),children:x.user.email})]}),Object(ge.jsxs)("p",{children:[Object(ge.jsx)("strong",{children:"Address:"})," ",x.shippingAddress.address,",",x.shippingAddress.city,",",x.shippingAddress.postalCode,",",x.shippingAddress.country]}),x.isDelivered?Object(ge.jsxs)(dt,{variant:"success",children:["Delivered on ",x.deliveredAt.substring(0,10)]}):Object(ge.jsx)(dt,{variant:"danger",children:"Not Delivered"})]}),Object(ge.jsxs)(vt.a.Item,{children:[Object(ge.jsx)("h2",{children:"Payment Method"}),Object(ge.jsxs)("p",{children:[Object(ge.jsx)("strong",{children:"Method:"})," ",x.paymentMethod]}),x.isPaid?Object(ge.jsxs)(dt,{variant:"success",children:["Paid on ",x.paidAt.substring(0,10)]}):Object(ge.jsx)(dt,{variant:"danger",children:"Not Paid"})]}),Object(ge.jsx)(vt.a.Item,{children:0===x.orderItems?Object(ge.jsx)(dt,{children:"Your Order Is Empty"}):Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsx)("h2",{children:"Order Item"}),x.orderItems.map((function(e,t){return Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{md:1,children:Object(ge.jsx)(bt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(ht.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(ge.jsxs)(Ie.a,{md:4,children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},t)}))]})})]})}),Object(ge.jsx)(Ie.a,{md:4,children:Object(ge.jsx)(Se.a,{children:Object(ge.jsxs)(vt.a,{variant:"flush",children:[Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsx)("h2",{children:"Order Summary"})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Items:"}),Object(ge.jsxs)(Ie.a,{children:["$",x.itemsPrice]})]})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Shipping:"}),Object(ge.jsxs)(Ie.a,{children:["$",x.shippingPrice]})]})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Tax:"}),Object(ge.jsxs)(Ie.a,{children:["$",x.taxPrice]})]})}),Object(ge.jsx)(vt.a.Item,{children:Object(ge.jsxs)(Ee.a,{children:[Object(ge.jsx)(Ie.a,{children:"Total Price:"}),Object(ge.jsxs)(Ie.a,{children:["$",x.totalPrice]})]})}),!x.isPaid&&Object(ge.jsxs)(vt.a.Item,{children:[E&&Object(ge.jsx)(st,{}),s?Object(ge.jsx)(qt.PayPalButton,{amount:x.totalPrice,onSuccess:function(e){console.log(e),o(function(e,t){return function(){var r=Object(b.a)(p.a.mark((function r(n,a){var c,s,i,o,d;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:X}),c=a(),s=c.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},r.next=6,V.a.put("/api/orders/".concat(e,"/pay"),t,i);case 6:o=r.sent,d=o.data,n({type:Z,payload:d}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:ee,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(d,e))}}):Object(ge.jsx)(st,{})]}),g&&Object(ge.jsx)(st,{}),f&&Object(ge.jsx)(dt,{variant:"danger",children:f}),Object(ge.jsx)(vt.a.Item,{children:l&&l.isAdmin&&x.isPaid&&!x.isDelivered&&Object(ge.jsx)(fe.a,{className:"btn-block",onClick:function(){o(function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r,n){var a,c,s,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:X}),a=n(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,V.a.put("/api/orders/".concat(e._id,"/deliver"),{},s);case 6:i=t.sent,o=i.data,r({type:Z,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:ee,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(x))},children:"Mark as delivered"})})]})})})]})]})},Vt=function(e){var t=e.history,r=Object(j.b)(),a=Object(j.c)((function(e){return e.userList})),c=a.error,s=a.users,i=a.loading,o=Object(j.c)((function(e){return e.userLogin})).userInfo,d=Object(j.c)((function(e){return e.userDelete})).success;be()||t.push("/login"),Object(n.useEffect)((function(){o&&o.isAdmin?r(function(){var e=Object(b.a)(p.a.mark((function e(t,r){var n,a,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),n=r(),a=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,V.a.get("/api/users",c);case 6:s=e.sent,i=s.data,t({type:k,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:T,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,t,o,d]);var u=function(e){window.confirm("Are you sure ?")&&r(function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r,n){var a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:A}),a=n(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,V.a.delete("/api/users/".concat(e),s);case 6:r({type:w}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:D,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ft,{title:"User List"}),Object(ge.jsx)("h1",{children:"Users List"}),i?Object(ge.jsx)(st,{}):c?Object(ge.jsx)(dt,{variant:"danger",children:c}):Object(ge.jsxs)(Ut.a,{responsive:!0,hover:!0,className:"table-sm",striped:!0,children:[Object(ge.jsx)("thead",{children:Object(ge.jsxs)("tr",{children:[Object(ge.jsx)("td",{children:"ID"}),Object(ge.jsx)("td",{children:"NAME"}),Object(ge.jsx)("td",{children:"EMAIL"}),Object(ge.jsx)("td",{children:"IS ADMIN"}),Object(ge.jsx)("td",{})]})}),Object(ge.jsx)("tbody",{children:s.map((function(e){return Object(ge.jsxs)("tr",{children:[Object(ge.jsx)("td",{children:e._id}),Object(ge.jsx)("td",{children:e.name}),Object(ge.jsx)("td",{children:Object(ge.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(ge.jsx)("td",{children:e.isAdmin?Object(ge.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(ge.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ge.jsxs)("td",{children:[Object(ge.jsx)(l.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(ge.jsx)(fe.a,{variant:"light",className:"btn-sm",children:Object(ge.jsx)("i",{className:"fas fa-edit"})})}),Object(ge.jsx)(fe.a,{variant:"danger",className:"btn-sm",onClick:function(){return u(e._id)},children:Object(ge.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},$t=function(e){var t=e.match,r=e.history,a=t.params.id,c=Object(n.useState)(""),s=Object(xe.a)(c,2),i=s[0],o=s[1],d=Object(n.useState)(""),l=Object(xe.a)(d,2),u=l[0],h=l[1],O=Object(n.useState)(!1),x=Object(xe.a)(O,2),m=x[0],f=x[1],g=Object(j.c)((function(e){return e.userDetails})),v=g.error,y=g.loading,I=g.user,S=Object(j.c)((function(e){return e.userUpdate})),C=S.error,_=S.loading,R=S.success,L=Object(j.b)();Object(n.useEffect)((function(){R?(L({type:G}),r.push("/admin/userlist")):I.name&&I._id===a?(h(I.name),o(I.email),f(I.isAdmin)):L(he(a))}),[L,I,a,R]);return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ft,{title:"User Edit"}),Object(ge.jsx)(ht.Link,{to:"/admin/userlist",className:"btn btn-light my-3",children:"Go Back"}),Object(ge.jsxs)(Tt,{children:[Object(ge.jsx)("h1",{children:"Edit User"}),_&&Object(ge.jsx)(st,{}),C&&Object(ge.jsx)(dt,{variant:"danger",children:C}),y?Object(ge.jsx)(st,{}):v?Object(ge.jsx)(dt,{variant:"danger",children:v}):Object(ge.jsxs)(me.a,{onSubmit:function(e){e.preventDefault(),L(function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r,n){var a,c,s,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:U}),a=n(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,V.a.put("/api/users/".concat(e._id),e,s);case 6:i=t.sent,o=i.data,r({type:N}),r({type:E,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:F,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:a,name:u,email:i,isAdmin:m}))},children:[Object(ge.jsxs)(me.a.Group,{controlId:"name",children:[Object(ge.jsx)(me.a.Label,{children:"Name"}),Object(ge.jsx)(me.a.Control,{type:"name",placeholder:"Enter your name",value:u,onChange:function(e){return h(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"email",children:[Object(ge.jsx)(me.a.Label,{children:"Email Address"}),Object(ge.jsx)(me.a.Control,{type:"email",placeholder:"Enter Email Address",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"isadmin",children:[Object(ge.jsx)(me.a.Label,{children:"Admin :"}),Object(ge.jsx)(me.a.Check,{type:"checkBox",label:"Is Admin",checked:m,onChange:function(e){return f(e.target.checked)}})]}),Object(ge.jsx)(Ee.a,{className:"py-3",children:Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(fe.a,{type:"submit",variant:"primary",children:"Update"})})})]})]})]})},zt=function(e){var t=e.history,r=e.match,a=Object(j.b)(),c=Object(j.c)((function(e){return e.productDelete})),s=c.error,i=c.loading,o=c.success,d=Object(j.c)((function(e){return e.productCreate})),u=d.error,h=d.loading,O=d.success,x=d.product,m=r.params.pageNumber||1,f=Object(j.c)((function(e){return e.productList})),g=f.error,v=f.products,y=f.loading,E=f.page,I=f.pages,S=Object(j.c)((function(e){return e.userLogin})).userInfo;be()||t.push("/login"),Object(n.useEffect)((function(){a({type:Be}),S.isAdmin||t.push("/login"),O?t.push("/admin/product/".concat(x._id,"/edit")):a(nt("",m))}),[a,t,S,o,O,m]);var C=function(e){a(function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r,n){var a,c,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:De}),a=n(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,V.a.delete("/api/products/".concat(e),s);case 6:r({type:Ue}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Ne,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ft,{title:"Product List"}),Object(ge.jsxs)(Ee.a,{className:"align-items-center",children:[Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)("h1",{children:"Products"})}),Object(ge.jsx)(Ie.a,{className:"text-right",children:Object(ge.jsxs)(fe.a,{className:"",onClick:function(){a(function(){var e=Object(b.a)(p.a.mark((function e(t,r){var n,a,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Fe}),n=r(),a=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,V.a.post("/api/products",{},c);case 6:s=e.sent,i=s.data,t({type:Ge,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Me,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())},children:[Object(ge.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),h&&Object(ge.jsx)(st,{}),u&&Object(ge.jsx)(dt,{variant:"danger",children:h}),i&&Object(ge.jsx)(st,{}),s&&Object(ge.jsx)(dt,{variant:"danger",children:i}),y?Object(ge.jsx)(st,{}):g?Object(ge.jsx)(dt,{variant:"danger",children:g}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(Ut.a,{responsive:!0,hover:!0,className:"table-sm",striped:!0,bordered:!0,children:[Object(ge.jsx)("thead",{children:Object(ge.jsxs)("tr",{children:[Object(ge.jsx)("td",{children:"ID"}),Object(ge.jsx)("td",{children:"NAME"}),Object(ge.jsx)("td",{children:"PRICE"}),Object(ge.jsx)("td",{children:"STOCK"}),Object(ge.jsx)("td",{children:"CATEGORY"}),Object(ge.jsx)("td",{children:"BRAND"}),Object(ge.jsx)("td",{})]})}),Object(ge.jsx)("tbody",{children:v.map((function(e){return Object(ge.jsxs)("tr",{children:[Object(ge.jsx)("td",{children:e._id}),Object(ge.jsx)("td",{children:e.name}),Object(ge.jsxs)("td",{children:["$",e.price]}),Object(ge.jsx)("td",{children:e.countInStock}),Object(ge.jsx)("td",{children:e.category}),Object(ge.jsx)("td",{children:e.brand}),Object(ge.jsxs)("td",{children:[Object(ge.jsx)(l.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(ge.jsx)(fe.a,{variant:"light",className:"btn-sm",children:Object(ge.jsx)("i",{className:"fas fa-edit"})})}),Object(ge.jsx)(fe.a,{variant:"danger",className:"btn-sm",onClick:function(){return C(e._id)},children:Object(ge.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(ge.jsx)(ut,{pages:I,page:E,isAdmin:!0})]})]})},Jt=function(e){var t=e.match,r=e.history,a=t.params.id,c=Object(n.useState)(""),s=Object(xe.a)(c,2),i=s[0],o=s[1],d=Object(n.useState)(""),l=Object(xe.a)(d,2),u=l[0],h=l[1],O=Object(n.useState)(""),x=Object(xe.a)(O,2),m=x[0],f=x[1],g=Object(n.useState)(""),v=Object(xe.a)(g,2),y=v[0],E=v[1],I=Object(n.useState)(0),S=Object(xe.a)(I,2),C=S[0],_=S[1],R=Object(n.useState)(0),L=Object(xe.a)(R,2),k=L[0],T=L[1],P=Object(n.useState)(""),A=Object(xe.a)(P,2),w=A[0],D=A[1],U=Object(n.useState)(!1),N=Object(xe.a)(U,2),F=N[0],G=N[1],M=Object(j.c)((function(e){return e.userLogin})).userInfo,B=Object(j.c)((function(e){return e.productIdList})),q=B.error,Q=B.loading,$=B.product,z=Object(j.c)((function(e){return e.productUpdate})),J=z.error,Y=z.loading,W=z.success,H=Object(j.b)();Object(n.useEffect)((function(){W?(H({type:$e}),r.push("/admin/productlist")):$.name&&$._id===a?(o($.name),h($.image),_($.price),E($.brand),T($.countInStock),f($.description),D($.category)):H(at(a))}),[H,r,$,a,W]);var K=function(){var e=Object(b.a)(p.a.mark((function e(t){var r,n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(n=new FormData).append("file",r),n.append("upload_preset","geekyimages"),G(!0),e.prev=5,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(M.token)}},e.next=9,fetch("https://api.cloudinary.com/v1_1/dbtqvhete/image/upload",{method:"POST",body:n});case 9:return a=e.sent,e.next=12,a.json();case 12:c=e.sent,h(c.secure_url),G(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.error(e.t0),G(!1);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ht.Link,{to:"/admin/productlist",className:"btn btn-light my-3",children:"Go Back"}),Object(ge.jsxs)(Tt,{children:[Object(ge.jsx)("h1",{children:"Edit Product"}),Y&&Object(ge.jsx)(st,{}),W&&Object(ge.jsx)(dt,{variant:"danger",children:J}),Q?Object(ge.jsx)(st,{}):q?Object(ge.jsx)(dt,{variant:"danger",children:q}):Object(ge.jsxs)(me.a,{onSubmit:function(e){e.preventDefault(),H(function(e){return function(){var t=Object(b.a)(p.a.mark((function t(r,n){var a,c,s,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:qe}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,V.a.put("/api/products/".concat(e._id),e,s);case 6:i=t.sent,o=i.data,r({type:Qe,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Ve,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:a,name:i,price:C,countInStock:k,description:m,brand:y,category:w,image:u}))},children:[Object(ge.jsxs)(me.a.Group,{controlId:"name",children:[Object(ge.jsx)(me.a.Label,{children:"Name"}),Object(ge.jsx)(me.a.Control,{type:"name",placeholder:"Enter product name",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"brand",children:[Object(ge.jsx)(me.a.Label,{children:"Enter Brand"}),Object(ge.jsx)(me.a.Control,{type:"text",placeholder:"Enter Brand",value:y,onChange:function(e){return E(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"price",children:[Object(ge.jsx)(me.a.Label,{children:"Enter Price"}),Object(ge.jsx)(me.a.Control,{type:"number",label:"Price",value:C,onChange:function(e){return _(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"category",children:[Object(ge.jsx)(me.a.Label,{children:"Enter Category"}),Object(ge.jsx)(me.a.Control,{type:"text",label:"Category",value:w,onChange:function(e){return D(e.target.value)}})]}),Object(ge.jsxs)(me.a.Group,{controlId:"image",children:[Object(ge.jsx)(me.a.Label,{children:"Image"}),Object(ge.jsx)(me.a.Control,{type:"text",placeholder:"Enter image Url",value:u,onChange:function(e){return h(e.target.value)}}),Object(ge.jsx)(me.a.File,{id:"image-file",custom:!0,label:"Choose File",onChange:K}),F&&Object(ge.jsx)(st,{})]}),Object(ge.jsxs)(me.a.Group,{controlId:"description",children:[Object(ge.jsx)(me.a.Label,{children:"Enter Description"}),Object(ge.jsx)(me.a.Control,{type:"text",label:"Description",value:m,onChange:function(e){return f(e.target.value)}}),F&&Object(ge.jsx)(st,{})]}),Object(ge.jsxs)(me.a.Group,{controlId:"countInStock",children:[Object(ge.jsx)(me.a.Label,{children:"Enter Count In Stock"}),Object(ge.jsx)(me.a.Control,{type:"number",label:"Count in stock",value:k,onChange:function(e){return T(e.target.value)}})]}),Object(ge.jsx)(Ee.a,{className:"py-3",children:Object(ge.jsx)(Ie.a,{children:Object(ge.jsx)(fe.a,{type:"submit",variant:"primary",children:"Update"})})})]})]})]})},Yt=function(e){var t=e.history,r=Object(j.b)(),a=Object(j.c)((function(e){return e.orderList})),c=a.error,s=a.loading,i=a.orders,o=Object(j.c)((function(e){return e.userLogin})).userInfo;return be()||t.push("/login"),Object(n.useEffect)((function(){r({type:de}),o&&o.isAdmin?r(function(){var e=Object(b.a)(p.a.mark((function e(t,r){var n,a,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:se}),n=r(),a=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,V.a.get("/api/orders",c);case 6:s=e.sent,i=s.data,t({type:ie,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:oe,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,t,o]),Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ft,{title:"Order List"}),Object(ge.jsx)("h1",{children:"Orders List"}),s?Object(ge.jsx)(st,{}):c?Object(ge.jsx)(dt,{variant:"danger",children:c}):Object(ge.jsxs)(Ut.a,{responsive:!0,hover:!0,className:"table-sm",striped:!0,bordered:!0,children:[Object(ge.jsx)("thead",{children:Object(ge.jsxs)("tr",{children:[Object(ge.jsx)("td",{children:"ID"}),Object(ge.jsx)("td",{children:"NAME"}),Object(ge.jsx)("td",{children:"DATE"}),Object(ge.jsx)("td",{children:"ITEM PRICE"}),Object(ge.jsx)("td",{children:"TOTAL PRICE"}),Object(ge.jsx)("td",{children:"IS DELIVERED"}),Object(ge.jsx)("td",{children:"IS PAID"}),Object(ge.jsx)("td",{})]})}),Object(ge.jsx)("tbody",{children:i.map((function(e){return Object(ge.jsxs)("tr",{children:[Object(ge.jsx)("td",{children:e._id}),Object(ge.jsx)("td",{children:e.user&&e.user.name}),Object(ge.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(ge.jsx)("td",{children:e.itemsPrice}),Object(ge.jsx)("td",{children:e.totalPrice}),Object(ge.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(ge.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ge.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(ge.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ge.jsx)("td",{children:Object(ge.jsx)("a",{href:"/order/".concat(e._id),children:Object(ge.jsx)(fe.a,{className:"btn-sm",variant:"light",children:"Details"})})})]},e._id)}))})]})]})},Wt=function(){return Object(ge.jsx)("footer",{children:Object(ge.jsx)(Ee.a,{children:Object(ge.jsx)("div",{className:"footer",children:Object(ge.jsx)("p",{className:"text-center",children:"Copyright \xa9 Syed Abdullah Anwar"})})})})},Ht=function(){return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)(s.a,{children:Object(ge.jsxs)("div",{children:[Object(ge.jsx)("h1",{children:" 404 Not Found "}),Object(ge.jsx)("p",{children:"Sorry This page doesn't exist"}),Object(ge.jsx)(ht.Link,{to:"/",children:Object(ge.jsx)(fe.a,{variant:"dark",className:"btn-sm",children:"Go to Homepage"})})]})})})},Kt=function(){return Object(ge.jsxs)(ht.BrowserRouter,{children:[Object(ge.jsx)(ye,{}),Object(ge.jsx)("main",{className:"py-3",children:Object(ge.jsx)(s.a,{children:Object(ge.jsxs)(Oe.g,{children:[Object(ge.jsx)(Oe.d,{path:"/shipping",component:Gt}),Object(ge.jsx)(Oe.d,{path:"/payment",component:Mt}),Object(ge.jsx)(Oe.d,{path:"/order/:id",component:Qt}),Object(ge.jsx)(Oe.d,{path:"/placeorder",component:Bt}),Object(ge.jsx)(Oe.d,{path:"/login",component:wt}),Object(ge.jsx)(Oe.d,{path:"/register",component:Dt}),Object(ge.jsx)(Oe.d,{path:"/profile",component:Nt}),Object(ge.jsx)(Oe.d,{path:"/product/:id",component:Et}),Object(ge.jsx)(Oe.d,{path:"/product/:id/:rid/reviews",component:Et}),Object(ge.jsx)(Oe.d,{path:"/cart/:id?",component:kt}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/admin/userlist",component:Vt}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/admin/orderlist",component:Yt}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/admin/user/:id/edit",component:$t}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/admin/productlist",component:zt}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/admin/productlist/:pageNumber",component:zt}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/admin/product/:id/edit",component:Jt}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/search/:keyword",component:gt}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/page/:pageNumber",component:gt}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/search/:keyword/page/:pageNumber",component:gt}),Object(ge.jsx)(Oe.d,{exact:!0,path:"/",component:gt}),Object(ge.jsx)(Oe.d,{component:Ht})]})})}),Object(ge.jsx)(Wt,{})]})},Xt=r(45),Zt=r(83),er=r(84),tr=r(19),rr=Object(Xt.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return{loading:!0,products:[]};case ke:return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case Te:return{loading:!1,error:t.payload};default:return e}},productIdList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(tr.a)({loading:!0},e);case Ae:return{loading:!1,product:t.payload};case we:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return{loading:!0};case Ue:return{loading:!1,success:!0};case Ne:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{loading:!0};case Ge:return{loading:!1,product:t.payload,success:!0};case Me:return{loading:!1,error:t.payload};case Be:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return{loading:!0};case Qe:return{loading:!1,success:!0,product:t.payload};case Ve:return{loading:!1,error:t.payload};case $e:return{product:{}};default:return e}},productReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return{loading:!0};case Je:return{loading:!1,success:!0};case Ye:return{loading:!1,error:t.payload};case We:return{};default:return e}},productReviewDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return{loading:!0};case Ke:return{loading:!1,success:!0};case Xe:return{loading:!1,error:t.payload};case Ze:return{};default:return e}},productCarousel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return{loading:!0,products:[]};case tt:return{loading:!1,products:t.payload};case rt:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It:var r=t.payload,n=e.cartItems.find((function(e){return e.product===r.product}));return n?Object(tr.a)(Object(tr.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?r:e}))}):Object(tr.a)(Object(tr.a)({},e),{},{cartItems:[].concat(Object(lt.a)(e.cartItems),[r])});case St:return Object(tr.a)(Object(tr.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case Ct:return Object(tr.a)(Object(tr.a)({},e),{},{shippingAddress:t.payload});case _t:return Object(tr.a)(Object(tr.a)({},e),{},{paymentMethod:t.payload});case Rt:return{cartItems:[],shippingAddress:{}};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0};case O:return{loading:!1,userInfo:t.payload};case x:return{loading:!1,error:t.payload};case m:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case g:return{loading:!1,userInfo:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(tr.a)(Object(tr.a)({},e),{},{loading:!0});case E:return{loading:!1,user:t.payload};case I:return{loading:!1,error:t.payload};case S:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case _:return{success:!0,loading:!1,userInfo:t.payload};case R:return{loading:!1,error:t.payload};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case k:return{loading:!1,users:t.payload};case T:return{loading:!1,error:t.payload};case P:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0};case w:return{loading:!1,success:!0};case D:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case N:return{loading:!1,success:!0};case F:return{loading:!1,error:t.payload};case G:return{user:{}};default:return e}},createOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case z:return{loading:!1,success:!0,order:t.payload};case J:return{loading:!1,error:t.payload};default:return e}},detailsOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(tr.a)(Object(tr.a)({},e),{},{loading:!0});case W:return{loading:!1,order:t.payload};case H:return{loading:!1,error:t.payload};case K:return{orderItems:[],shippingAddress:{}};default:return e}},fbLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{loading:!0};case B:return{loading:!1,userInfo:t.payload};case q:return{loading:!1,error:t.payload};case m:return{};default:return e}},payOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case Z:return{loading:!1,success:!0};case ee:return{loading:!1,error:t.payload};case te:return{};default:return e}},myListOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{loading:!0};case ne:return{loading:!1,orders:t.payload};case ae:return{loading:!1,error:t.payload};case ce:return{orders:[]};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{loading:!0};case ie:return{loading:!1,orders:t.payload};case oe:return{loading:!1,error:t.payload};case de:return{orders:[]};default:return e}},deliverOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return{loading:!0};case je:return{loading:!1,success:!0};case ue:return{loading:!1,error:t.payload};case pe:return{};default:return e}}}),nr=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],ar=(localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")),localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null),cr={cart:{cartItems:nr,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):{}},userLogin:{userInfo:ar}},sr=[Zt.a],ir=Object(Xt.createStore)(rr,cr,Object(er.composeWithDevTools)(Xt.applyMiddleware.apply(void 0,sr)));c.a.render(Object(ge.jsx)(j.a,{store:ir,children:Object(ge.jsx)(Kt,{})}),document.getElementById("root"))},89:function(e,t,r){},90:function(e,t,r){}},[[121,1,2]]]);
//# sourceMappingURL=main.75c66d57.chunk.js.map